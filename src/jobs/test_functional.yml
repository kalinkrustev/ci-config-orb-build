description:
  This job executes the functional tests for the project.
executor: machine
environment:
  ML_CORE_TEST_HARNESS_DIR: /tmp/ml-core-test-harness
steps:
  - checkout
  - attach_workspace:
      at: /tmp
  - run:
      name: Load the pre-built docker image from workspace
      command: docker load -i /tmp/docker-image.tar
  - run:
      name: Execute TTK functional tests
      command: npm run test:functional
  - store_artifacts:
      path: /tmp/ml-core-test-harness/reports
      destination: test
